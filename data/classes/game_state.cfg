//This controls the full state of the game.
{
	tiles: { type: "{[int,int] ->bool}", default: {} },
	nplayer: { type: "int", default: 0 },
	current_player: { type: "int", default: 0 },

	//Receive a move from a player and modify the game state appropriately.
	make_move: "def(class message.move move) ->commands
	if(move.loc not in tiles, [
		set(tiles[move.loc], if(current_player = 0, true, false)),
		set(current_player, (current_player+1)%2),
	])
	",
}
